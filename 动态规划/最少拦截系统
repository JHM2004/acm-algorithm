描述

某国为了防御敌国的导弹袭击,发展出一种导弹拦截系统.但是这种导弹拦截系统有一个缺陷:虽然它的第一发炮弹能够到达任意的高度,但是以后每一发炮弹都不能超过前一发的高度.某天,雷达捕捉到敌国的导弹来袭.由于该系统还在试用阶段,所以只有一套系统,因此有可能不能拦截所有的导弹.
怎么办呢?多搞几套系统呗!你说说倒蛮容易,成本呢?成本是个大问题啊.所以俺就到这里来求救了,请帮助计算一下最少需要多少套拦截系统.

输入描述

输入若干组数据.每组数据包括:导弹总个数(正整数),导弹依此飞来的高度(雷达给出的高度数据是不大于30000的正整数,用空格分隔)

输出描述

对应每组数据输出拦截所有导弹最少要配备多少套这种导弹拦截系统.

用例输入 1 

8 389 207 155 300 299 170 158 65
用例输出 1 

2


（本题应用dilworth定理，代码后面详细讲解）（简而言之，就是要 求有多少非增链（每个元素只能用一次）就是求最长严格增的链的长度）
#include<iostream>
using namespace std;
const int N=1e3+10;
int n,a[N],dp[N];
int main()
{
    cin>>n;
    for(int i=1;i<=n;i++)
    {
    	cin>>a[i];
    }
    int maxx=-1e9;
    for(int i=1;i<=n;i++)
    {
        dp[i]=1;for(int j=1;j<=i-1;j++)
        {
            if(a[j]<a[i]){
                dp[i]=max(dp[i],dp[j]+1);
            }
        }maxx=max(maxx,dp[i]);
    }
    cout<<maxx<<endl;
    return 0;
}
  
//详细讲解
Dilworth定理
Dilworth定理，一言以蔽之，偏序集能划分成的最少的全序集个数等于最大反链的元素个数。

这对于数学不好的人（如litble）来说，不是句人话。翻译一下几个概念：

偏序
偏序嘛，应该不是那么陌生的东西 ，所谓“时属九月，三维偏序” 。

定义集合A AA中的一个二元关系≤ \leq≤，譬如对于( a 1 , b 1 ) (a_1,b_1)(a 
1
​
 ,b 
1
​
 )和( a 2 , b 2 ) (a_2,b_2)(a 
2
​
 ,b 
2
​
 )两个元素，我可以定义( a 1 , b 1 ) ≤ ( a 2 , b 2 ) (a_1,b_1) \leq (a_2,b_2)(a 
1
​
 ,b 
1
​
 )≤(a 
2
​
 ,b 
2
​
 )当且仅当a 1 ≤ a 2 a_1 \leq a_2a 
1
​
 ≤a 
2
​
 且b 1 ≤ b 2 b_1 \leq b_2b 
1
​
 ≤b 
2
​
 ，而若a 1 &gt; a 2 a_1&gt;a_2a 
1
​
 >a 
2
​
 ，b 1 ≤ b 2 b_1 \leq b_2b 
1
​
 ≤b 
2
​
 ，这两个元素就不可比了。

在满足以下三个条件时，( A , ≤ ) (A,\leq)(A,≤)就是个偏序集：

1.自反性:∀ a ∈ A , a ≤ a \forall a \in A,a \leq a∀a∈A,a≤a

2.反对称性:∀ a , b ∈ A \forall a,b \in A∀a,b∈A，若a ≤ b , b ≤ a a \leq b,b \leq aa≤b,b≤a，则a = b a=ba=b。

3.传递性:∀ a , b , c ∈ A \forall a,b,c \in A∀a,b,c∈A，若a ≤ b , b ≤ c a \leq b, b \leq ca≤b,b≤c，则a ≤ c a \leq ca≤c。

全序集
设≤ \leq≤为非空集合A AA上的一个偏序关系，若对于集合∀ a , b ∈ B \forall a,b \in B∀a,b∈B，都有a ≤ b a \leq ba≤b或b ≤ a b \leq ab≤a（即元素两两可比），就称( B , ≤ ) (B, \leq)(B,≤)为一个全序集。

反链
若偏序集( B , ≤ ) (B, \leq)(B,≤)中的元素两两不可比，则称B BB为反链。

例题
洛谷P1020 导弹拦截
我们若设每一个元素为二元组( a , b ) (a,b)(a,b)，a aa是这颗导弹的抵达时间，b bb是高度，那么令偏序关系≤ \leq≤为：a 1 ≤ a 2 a_1 \leq a_2a 
1
​
 ≤a 
2
​
 且b 1 ≥ b 2 b_1 \geq b_2b 
1
​
 ≥b 
2
​
 。

第二问问的是最少被划分为多少全序集，也就是要求最长反链长度，也就是求两两满足满足a 1 ≤ a 2 a_1 \leq a_2a 
1
​
 ≤a 
2
​
 且b 1 &lt; b 2 b_1 &lt; b_2b 
1
​
 <b 
2
​
 的最大集合，也就是求最长严格下降子序列长度。
